<div class="page-layout" *ngIf="config">
  <div class="page-content">
    <app-breadcrumb [items]="config.breadCrumbs"></app-breadcrumb>
    <div class="page-title">
      <button class="icon-btn" (click)="goBack()">
           <img class="icon" [src]="this.imgPath + 'icons/back-icon.png'" alt="Back" />
      </button>
      <span>{{ config.title }}</span>
    </div>
    <div *ngIf="form">
      <form [formGroup]="form">
        <app-section
          *ngFor="let section of config.sections"
          [section]="section"
          [form]="form"
          (buttonClick)="handleButtonClick($event)"
          (fieldEvent)="handleFieldEvent($event)"
        >
        </app-section>
      </form>
    </div>
    <app-view-breakup
      *ngIf="isBreakupVisible"
      [config]="config.viewBreakup"
      [quoteRes]="quoteService.quoteRes"
    ></app-view-breakup>
    <div class="d-flex align-items-center justify-content-end gap-3 mt-4">
      <div
        class="text-primary d-flex align-items-center cursor-pointer"
        *ngIf="isBreakupVisible"
        (click)="openTermsModal()"
      >
        <img [src]="imgPath + 'images/icon-info.svg'" alt="info-icon" />
        <span class="ms-1">Terms & Conditions</span>
      </div>
      <button
        class="btn btn-primary btn-md px-5 d-flex align-items-center gap-2"
        (click)="finalizeProposal()"
        *ngIf="isBreakupVisible"
      >
        <span>Submit</span>
      </button>
      <button
        class="btn btn-primary btn-md px-5 d-flex align-items-center gap-2"
        (click)="getQuote()"
        *ngIf="!isBreakupVisible"
        [disabled]="isGettingPremium"
      >
        <span
          *ngIf="isGettingPremium"
          aria-hidden="true"
        >
        <img [src]="this.imgPath + 'images/Loader.svg'" alt="Loading..." class="spinner-icon">
        </span>
        <span>Get Premium</span>
      </button>
    </div>
  </div>
</div>
